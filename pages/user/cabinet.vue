<template>
  <section class="container__main-account">
    <h1 class="container__main-account-title">–ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç</h1>

    <!-- üîπ –ë–ª–æ–∫ –¥–∞–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
    <div class="container__main-account-user">
      <h2>–ú–æ—ó –¥–∞–Ω—ñ</h2>
      <ul>
        <li><strong>–Ü–º'—è:</strong> {{ user.name }}</li>
        <li><strong>Email:</strong> {{ user.email }}</li>
        <li><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> {{ user.phone }}</li>
      </ul>
      <button class="container__main-account-edit">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ</button>
    </div>

    <!-- üîπ –ë–ª–æ–∫ –∑–∞–º–æ–≤–ª–µ–Ω—å -->
    <div class="container__main-account-orders">
      <h2>–ú–æ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
      <div v-if="orders.length === 0">
        <p>–í–∏ —â–µ –Ω–µ —Ä–æ–±–∏–ª–∏ –∑–∞–º–æ–≤–ª–µ–Ω—å.</p>
      </div>
      <div v-else>
        <ul>
          <li v-for="order in orders" :key="order.id">
            <p><strong>‚Ññ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:</strong> {{ order.id }}</p>
            <p><strong>–î–∞—Ç–∞:</strong> {{ order.date }}</p>
            <p><strong>–°—Ç–∞—Ç—É—Å:</strong> {{ order.status }}</p>
            <p><strong>–°—É–º–∞:</strong> {{ order.total }} –≥—Ä–Ω</p>
            <nuxt-link :to="`/order/${order.id}`" class="container__main-account-order-link">–î–µ—Ç–∞–ª—ñ</nuxt-link>
          </li>
        </ul>
      </div>
    </div>

    <!-- üîπ –ë–ª–æ–∫ –æ–±—Ä–∞–Ω–æ–≥–æ -->
    <div class="container__main-account-favorite">
      <h2>–û–±—Ä–∞–Ω—ñ —Ç–æ–≤–∞—Ä–∏</h2>
      <div v-if="favorites.length === 0">
        <p>–£ –≤–∞—Å –Ω–µ–º–∞—î –æ–±—Ä–∞–Ω–∏—Ö —Ç–æ–≤–∞—Ä—ñ–≤.</p>
      </div>
      <div v-else class="container__main-account-favorite-list">
        <div v-for="product in favorites" :key="product.id" class="container__main-account-favorite-item">
          <nuxt-link :to="`/product/${product.id}`">
            <img :src="product.images[0]" :alt="product.title" loading="lazy" />
            <p>{{ product.title }}</p>
            <p>{{ product.price }} –≥—Ä–Ω</p>
          </nuxt-link>
        </div>
      </div>
    </div>

    <!-- üîπ –ö–Ω–æ–ø–∫–∞ –≤–∏—Ö–æ–¥—É -->
    <button class="container__main-account-logout" @click="logout">–í–∏–π—Ç–∏ –∑ –∫–∞–±—ñ–Ω–µ—Ç—É</button>

  </section>
</template>

<script>
export default {
  data() {
    return {
      user: {
        name: '–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ',
        email: 'ivan@example.com',
        phone: '+380961234567',
      },
      orders: [
        { id: 1234, date: '2025-06-25', status: '–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ', total: 1250 },
        { id: 1235, date: '2025-06-27', status: '–û—á—ñ–∫—É—î –≤—ñ–¥–ø—Ä–∞–≤–∫–∏', total: 890 },
      ],
      favorites: [
        { id: 1, title: '–§—É—Ç–±–æ–ª–∫–∞ SERENE', price: 350, images: ['/images/tshirt.jpg'] },
        { id: 2, title: '–°–≤–µ—Ç—Ä Minimal', price: 590, images: ['/images/sweater.jpg'] },
      ],
    };
  },
  methods: {
    logout() {
      // –õ–æ–≥—ñ–∫–∞ –≤–∏—Ö–æ–¥—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
      console.log('User logged out');
    },
  },
};
</script>

<style scoped lang="scss">
.container__main-account {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;

  &-title {
    font-size: 32px;
    font-weight: 700;
    margin-bottom: 20px;
    text-align: center;
  }

  &-user, &-orders, &-favorite {
    margin-bottom: 40px;

    h2 {
      font-size: 24px;
      margin-bottom: 10px;
    }

    ul {
      list-style: none;
      padding: 0;

      li {
        margin-bottom: 10px;
        font-size: 16px;
        line-height: 1.6;
      }
    }

    button {
      margin-top: 10px;
      padding: 8px 16px;
      background: #333;
      color: #fff;
      border: none;
      cursor: pointer;
    }
  }

  &-order-link {
    display: inline-block;
    margin-top: 5px;
    color: #333;
    text-decoration: underline;
  }

  &-favorite-list {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
  }

  &-favorite-item {
    width: 150px;
    text-align: center;

    img {
      width: 100%;
      border-radius: 8px;
      margin-bottom: 5px;
    }

    p {
      font-size: 14px;
    }
  }

  &-logout {
    display: block;
    margin: 0 auto;
    padding: 10px 20px;
    background: #555;
    color: #fff;
    border: none;
    font-size: 16px;
    cursor: pointer;
  }
}
</style>
